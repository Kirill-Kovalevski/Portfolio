/* ============== Base ============== */
*,
*::before,
*::after { box-sizing: border-box; }

:root{
  --paper:#f7f7f8;
  --ink:#0f172a;
  --muted:#475569;
  --radius:18px;
  --shadow: 0 10px 30px rgba(2,6,23,.12);

  --ui-size: 40px;
  --icon-size: 22px;

  /* portrait / caption colors */
  --gold-1:#fde68a; --gold-2:#f59e0b;
  --mint-1:#34d399; --mint-2:#10b981;
  --sky-1:#93c5fd;  --sky-2:#3b82f6;
  --lilac:#a78bfa;
}

html{ scroll-behavior:smooth; }
html, body { overflow-x:hidden; }

body{
  margin:0;
  color:var(--ink);
  background:linear-gradient(180deg,#f5f6f8 0%, #ffffff 40%, #f7f7f8 100%);
  font-family:"Inter", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
}

img{ max-width:100%; display:block; }
.container{ width:min(1180px, 92%); margin-inline:auto; }

/* ============== Topbar ============== */
.topbar{
  position:sticky; top:0; z-index:50;
  backdrop-filter:saturate(140%) blur(10px);
  background:rgba(255,255,255,.85);
  border-bottom:1px solid rgba(15,23,42,.06);
  transition: transform .25s ease;
}
.topbar--hidden{ transform: translateY(-100%); }

.topbar__inner{
  display:grid;
  grid-template-columns: 1fr auto 1fr;
  align-items:center;
  gap:.75rem;
  padding:.6rem 0;
}

.brand{
  display:flex; align-items:center; gap:.6rem;
  color:inherit; text-decoration:none; justify-self:start;
}
.brand__logo{
  width:var(--ui-size); height:var(--ui-size);
  border-radius:50%;
  display:grid; place-items:center;
  font-weight:800; font-size:calc(var(--ui-size) * .36);
  background:#111; color:#fff;
  box-shadow:inset 0 0 0 2px #fff, 0 3px 10px rgba(0,0,0,.25);
}
.brand__text{ font-weight:700; font-size:1rem; letter-spacing:.2px; }

.icons{ display:flex; gap:.5rem; justify-self:center; align-items:center; }
.icon{
  width:var(--ui-size); height:var(--ui-size);
  display:grid; place-items:center;
  border-radius:12px; text-decoration:none;
  background:#111; color:#fff;
  border:2px solid #111; box-shadow:0 2px 0 #111;
}
.icon svg{ width:var(--icon-size); height:var(--icon-size); }
.icon--li{ background:#0a66c2; border-color:#0a66c2; box-shadow:0 2px 0 #084a90; }
.icon--resume{ background:#fff; color:#111; border-color:#111; }
.icon--gh{ background:#111; color:#fff; }

.nav{ position:relative; justify-self:end; display:flex; align-items:center; gap:.75rem; }

/* Hamburger */
.burger{
  width:var(--ui-size); height:var(--ui-size);
  border:0; border-radius:12px;
  background: radial-gradient(120% 120% at 30% 10%, #1a1a1a 0%, #0d0d0d 55%) #111;
  color:#fff; display:none; place-items:center; cursor:pointer;
  box-shadow: inset 0 0 0 1px #000, 0 6px 18px rgba(0,0,0,.25);
  position:relative;
}
.burger__bar{
  width:18px; height:2px; background: currentColor; border-radius:2px;
  position:absolute; left:50%; transform: translateX(-50%); transition:.22s;
}
.burger__bar:nth-child(1){ top: 13px; }
.burger__bar:nth-child(2){ top: 50%; transform: translate(-50%, -50%); }
.burger__bar:nth-child(3){ bottom: 13px; }
.burger[aria-expanded="true"] .burger__bar:nth-child(1){ top:50%; transform: translate(-50%,6px) rotate(45deg); }
.burger[aria-expanded="true"] .burger__bar:nth-child(2){ opacity:0; }
.burger[aria-expanded="true"] .burger__bar:nth-child(3){ top:50%; bottom:auto; transform: translate(-50%,-6px) rotate(-45deg); }

.nav__list{ list-style:none; padding:0; margin:0; display:flex; gap:1.3rem; }
.nav__list a{ color:#0f172a; text-decoration:none; font-weight:600; padding:.35rem .25rem; border-radius:8px; }
.nav__list a:hover{ background:rgba(2,6,23,.06); }

@media (max-width: 900px){
  .burger{ display:grid; }
  .nav__list{
    display:none; position:absolute; right:0; top:calc(var(--ui-size) + 6px);
    background:#fff; padding:.75rem; min-width:180px;
    border:1px solid rgba(15,23,42,.08); border-radius:12px; box-shadow:var(--shadow);
    flex-direction:column; gap:.6rem;
  }
  .nav__list.is-open{ display:flex; }
}
@media (min-width: 901px){
  .burger{ display:none; }
  .nav__list{ display:flex !important; position:static; background:transparent; box-shadow:none; border:0; padding:0; }
}

/* ============== Sections ============== */
.skills{ background:#fff; border-bottom:1px solid rgba(15,23,42,.06); padding:.7rem 0 1rem; }
.skills__title{ text-align:center; margin:.2rem 0 .6rem; font-weight:900; letter-spacing:-.2px; }
.skills__grid{
  display:grid; gap:.6rem; grid-template-columns:repeat(auto-fit, minmax(140px, 1fr));
  align-items:stretch;
}
.chip{
  display:grid; place-items:center; height:40px;
  font-weight:800; border-radius:999px; border:1.8px solid #111; background:#fff;
}

.section{ padding: clamp(1.6rem, 5vw, 3rem) 0; }
.section--tint{ background:linear-gradient(180deg,#f9fafb,#f2f6fb); }
.section__head{ text-align:center; margin-bottom:1.1rem; }
.section__title{ font-weight:900; letter-spacing:-.2px; font-size: clamp(1.4rem, 3vw, 2rem); margin:0; }
.section__sub{ color:var(--muted); margin:.35rem 0 0; }
.section__sub--room{ margin-top:.55rem; margin-bottom:1rem; }

/* ============== Projects Grid & Cards ============== */
.grid{ display:grid; gap: clamp(1rem, 2.5vw, 1.4rem); grid-template-columns:1fr; }
@media (min-width: 740px){ .grid{ grid-template-columns: repeat(2, 1fr); } }
@media (min-width: 1080px){ .grid{ grid-template-columns: repeat(3, 1fr); } }

.card{
  --accent:#0ea5e9;
  background:var(--paper);
  border:1px solid rgba(15,23,42,.08);
  border-radius: var(--radius);
  overflow:hidden;
  box-shadow: var(--shadow);
  display:grid; grid-template-rows:auto 1fr;
}
.card__preview{
  aspect-ratio: 16 / 10;
  position:relative;
  overflow:hidden;
  background:
    radial-gradient(140% 120% at 80% 0%, rgba(255,255,255,.35), transparent 45%),
    radial-gradient(140% 120% at 0% 100%, rgba(0,0,0,.08), transparent 45%);
  border-bottom:1px solid rgba(15,23,42,.08);
}

/* PHONE PREVIEW: perfectly centered */
.iframe-wrapper{
  position:relative;
  width:100%;
  height:100%;
  overflow:hidden;
}
.iframe-wrapper iframe{
  --scale:.70;                  /* default; overridden by data-scale via JS */
  position:absolute;
  top:0;
  left:50%;
  width: calc(100% / var(--scale));
  height: calc(100% / var(--scale));
  transform: translateX(-50%) scale(var(--scale));
  transform-origin: top center;
  border:0;
  border-radius:16px;
  background:#fff;
  pointer-events:none;          /* previews don’t scroll inside the card */
}

/* Card body */
.card__body{ padding:1rem 1rem 1.2rem; display:flex; flex-direction:column; }

/* >>> Centered title + animated accent underline */
.card__title{
  margin:0 0 .35rem;
  font-weight:800; letter-spacing:-.2px;
  text-align:center;                     /* centered */
  position:relative;
}
.card__title::after{
  content:"";
  display:block;
  width:44px; height:3px;
  margin:.35rem auto 0;
  border-radius:3px;
  background: linear-gradient(90deg, var(--accent), rgba(17,17,17,0));
  transform: scaleX(0);
  transform-origin:center;
  transition: transform .25s ease;
}
.card:hover .card__title::after{ transform: scaleX(1); }

.card__text{ margin:.2rem 0 .8rem; color:var(--muted); text-align:center; }
.card__meta{ display:flex; gap:.4rem; flex-wrap:wrap; margin-bottom:.9rem; justify-content:center; }
.card__meta span{ font-size:.8rem; font-weight:700; padding:.2rem .5rem; border-radius:999px; border:1.5px solid #111; background:#fff; }
.card__actions{ margin-top:auto; display:flex; gap:.6rem; flex-wrap:wrap; justify-content:center; }

.btn{
  --bg:#fff; --fg:#111;
  display:inline-flex; align-items:center; justify-content:center; gap:.4rem;
  padding:.55rem .85rem; border-radius:12px; border:2px solid #111;
  background:var(--bg); color:var(--fg); font-weight:800; text-decoration:none;
  box-shadow:0 3px 0 #111; transition:transform .12s ease, filter .12s ease;
}
.btn:hover{ transform:translateY(-1px); filter:brightness(1.03); }
.btn:active{ transform:translateY(1px); box-shadow:0 0 0 #111; }
.btn--primary{ border-color: var(--accent); box-shadow:0 3px 0 var(--accent); background:var(--accent); color:#fff; }

/* ============== Articles & Tools — two-column accordion (details/summary) ============== */
/* (Old .tools / .tool__toggle styles removed) */

.tools-grid{
  display:grid;
  grid-template-columns:1fr;
  gap:14px 22px;
  align-items:start;
  max-width:980px;
  margin-inline:auto;
}
@media (min-width:900px){
  .tools-grid{ grid-template-columns:1fr 1fr; }
}

.tool{ border:0; padding:0; background:transparent; }

/* Equal-height tab (two-line clamp) */
.tool__summary{
  --tab-h: 88px;
  list-style:none;
  display:grid;
  grid-template-columns: 1fr auto;
  align-items:center;
  gap:.75rem;
  min-height: var(--tab-h);
  padding:1rem 1.1rem;
  border-radius:18px;
  background:#111; color:#fff;
  font-weight:900; line-height:1.2;
  border:2px solid #111;
  box-shadow: 0 10px 30px rgba(2,6,23,.22);
  cursor:pointer; position:relative;
}
.tool__summary::-webkit-details-marker{ display:none; }
.tool__summary::after{
  content:"";
  width:10px; height:10px;
  border-right:2px solid currentColor;
  border-bottom:2px solid currentColor;
  transform: rotate(-45deg);
  transition: transform .2s ease;
  opacity:.9;
}
.tool[open] .tool__summary::after{ transform: rotate(45deg); }

/* clamp title */
.tool__title{
  display:-webkit-box;
  -webkit-box-orient:vertical;
  -webkit-line-clamp:2;
  overflow:hidden;
}

/* panel reveal */
.tool[open] .tool__summary{ border-bottom-left-radius:10px; border-bottom-right-radius:10px; }
.tool__content{ display:grid; grid-template-rows:0fr; transition:grid-template-rows .28s ease; }
.tool[open] .tool__content{ grid-template-rows:1fr; }
.tool__panel{
  overflow:hidden;
  background:#fff;
  border:1px solid rgba(15,23,42,.08);
  border-top:0; border-radius:0 0 14px 14px;
  padding:0 1rem 1rem;
  margin-top:-6px;
  box-shadow: var(--shadow);
}
.tool__panel .checklist{ padding-left:1rem; margin:.8rem 0 .2rem; }
.tool__panel li{ margin:.35rem 0; }
.tool__panel pre{
  background:#0f172a; color:#e5e7eb;
  padding:.75rem .9rem; border-radius:10px;
  overflow:auto; font-size:.85rem; margin:.8rem 0;
}
.tool__panel code{
  background:rgba(15,23,42,.06); padding:.08rem .3rem; border-radius:6px;
  font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace;
  font-size:.9em;
}
.tool__summary:focus-visible{ outline:2px solid var(--ink); outline-offset:2px; }

/* ============== Contact ============== */
.contact{ text-align:center; }
.btn--mega{
  --c1:#7c3aed; --c2:#0ea5e9; --c3:#10b981;
  background: radial-gradient(120% 120% at 20% 0%, var(--c1), transparent),
              linear-gradient(90deg, var(--c1), var(--c2), var(--c3));
  color:#fff; border:0; box-shadow: 0 10px 24px rgba(124,58,237,.35);
  padding: .95rem 1.4rem; font-size:1.05rem; border-radius:14px;
}
.btn--mega:hover{ filter:brightness(1.05); transform: translateY(-1px); }
.btn--mega:active{ transform: translateY(1px); box-shadow:none; }

/* ============== Portrait (animated ring + name) ============== */
.bottom-hero{
  background: linear-gradient(180deg,#ffffff 0%, #eef4ff 100%);
  padding: clamp(1.6rem, 4vw, 2.8rem) 0;
  border-top:1px solid rgba(15,23,42,.06);
}
.bottom-hero__inner{ display:grid; place-items:center; gap:1.2rem; }

.portrait-ring{
  position: relative;
  width: min(520px, 85vw);
  aspect-ratio: 3/4;
  margin: clamp(18px, 3vw, 28px) auto;
  border-radius: 28px;
  background:#fff;
  box-shadow: 0 14px 32px rgba(2,6,23,.14), 0 4px 10px rgba(2,6,23,.08);
  transition: transform .35s cubic-bezier(.2,.8,.2,1), box-shadow .35s ease;
}
.portrait-ring:hover{
  transform: translateY(-4px);
  box-shadow: 0 22px 56px rgba(2,6,23,.18), 0 10px 18px rgba(2,6,23,.10);
}

/* Thin gradient ring (standard + webkit masks) */
.portrait-ring::before{
  content:"";
  position:absolute; inset:0; padding:6px; border-radius:inherit;
  background: conic-gradient(
      from 0deg,
      var(--sky-1) 0%,
      var(--mint-1) 25%,
      var(--gold-1) 50%,
      var(--lilac) 75%,
      var(--sky-1) 100%
  );
  /* cross-browser masking */
  mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  mask-composite: exclude;
  -webkit-mask-composite: xor;

  animation: ring-spin 22s linear infinite;
  filter: saturate(1.05) contrast(1.02);
  pointer-events:none;
}
@keyframes ring-spin { to { transform: rotate(360deg); } }

@media (max-width: 640px){
  .portrait-ring::before{ animation-duration: 16s; filter: hue-rotate(10deg) saturate(1.1); padding:7px; }
}
@media (min-width: 1200px){
  .portrait-ring::before{ filter: hue-rotate(-8deg) saturate(1.05); }
}

.portrait-ring__img{
  position: relative; z-index: 1;
  width: 100%; height: 100%;
  object-fit: cover; object-position: center 20%;
  border-radius: calc(28px - 2px);
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.6);
}

/* Name pill */
.portrait-card{ display:grid; justify-items:center; gap:.75rem; }
.portrait-ring::before, .portrait-ring::after{ z-index:0; }
.portrait-ring__img{ position:relative; z-index:1; border-radius:24px; }

.portrait-name{
  position:relative; z-index:3;
  padding:.5rem 1rem; border-radius:12px;
  font-weight:800; letter-spacing:.2px; color:#0f172a;
  background:rgba(255,255,255,.85);
  -webkit-backdrop-filter:saturate(130%) blur(6px);
  backdrop-filter:saturate(130%) blur(6px);
  box-shadow: 0 8px 20px rgba(2,6,23,.12), inset 0 0 0 1px rgba(255,255,255,.65);
}
.portrait-name::after{
  content:""; position:absolute; inset:0; border-radius:inherit;
  background: linear-gradient(120deg, transparent 0 35%, rgba(255,255,255,.65) 50%, transparent 65% 100%);
  transform: translateX(-120%);
  animation: name-glint 3.4s cubic-bezier(.2,.8,.2,1) 1.2s infinite;
  pointer-events:none;
}
@keyframes name-glint{
  0%{ transform: translateX(-120%); opacity:0; }
  25%{ opacity:.85; }
  60%,100%{ transform: translateX(120%); opacity:0; }
}

/* ============== Footer ============== */
.footer{ border-top:1px solid rgba(15,23,42,.08); background:#fff; }
.footer__inner{ display:flex; align-items:center; justify-content:space-between; gap:1rem; padding: 1rem 0; }
/* === Card title: new animation (no underline) === */
.card__title{
  text-align:center;
  position:relative;
  transition: transform .22s ease, text-shadow .25s ease, letter-spacing .25s ease;
}
.card__title::after{ content:none !important; } /* disable previous underline */
.card:hover .card__title{
  transform: translateY(-2px);
  letter-spacing:.2px;
  /* subtle glow using each card's --accent */
  text-shadow:
    0 6px 18px rgba(2,6,23,.08),
    0 0 18px var(--accent);
}

/* === Description left-aligned === */
.card__text{
  text-align:left !important;
}

/* === Keep chips centered (no change, just locking it in) === */
.card__meta{
  justify-content:center !important;
}

/* === Actions: push buttons to the far sides === */
.card__actions{
  width:100%;
  display:flex;
  align-items:center;
  justify-content:space-between;   /* left / right edges */
  flex-wrap:nowrap;                /* avoid wrapping */
  gap:.75rem;
  margin-top:auto;                 /* stays at the bottom of the card */
}
.card__actions .btn{ flex:0 0 auto; } /* prevent stretching */
